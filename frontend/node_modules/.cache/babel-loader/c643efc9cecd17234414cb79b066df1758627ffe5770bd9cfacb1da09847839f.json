{"ast":null,"code":"import { checkAuthStatus } from \"./auth\";\n\n//ログイン後の認証が必要なAPIリクエストで使用する\nexport const fetchWithAuth = async (url, options = {}, navigate) => {\n  if (!checkAuthStatus()) {\n    localStorage.removeItem('token');\n    navigate('/');\n    return;\n  }\n  const token = localStorage.getItem('token');\n  const headers = {\n    ...options.headers,\n    'Authorization': `Bearer ${token}`\n  };\n  const response = await fetch(url, {\n    ...options,\n    headers\n  });\n  if (response.status === 401) {\n    localStorage.removeItem('token');\n    navigate('/');\n  }\n  return response;\n};","map":{"version":3,"names":["checkAuthStatus","fetchWithAuth","url","options","navigate","localStorage","removeItem","token","getItem","headers","response","fetch","status"],"sources":["C:/Users/ayuto/github/health-care-application/frontend/src/utils/authRequest.js"],"sourcesContent":["import { checkAuthStatus } from \"./auth\";\r\n\r\n//ログイン後の認証が必要なAPIリクエストで使用する\r\nexport const fetchWithAuth = async(url, options = {}, navigate) => {\r\n    if (!checkAuthStatus()) {\r\n        localStorage.removeItem('token');\r\n        navigate('/');\r\n        return;\r\n    }\r\n    const token = localStorage.getItem('token');\r\n    const headers = {\r\n        ...options.headers,\r\n        'Authorization': `Bearer ${token}`\r\n    };\r\n    const response = await fetch(url, { ...options, headers });\r\n    if (response.status === 401) {\r\n        localStorage.removeItem('token');\r\n        navigate('/');\r\n    }\r\n    return response;\r\n};"],"mappings":"AAAA,SAASA,eAAe,QAAQ,QAAQ;;AAExC;AACA,OAAO,MAAMC,aAAa,GAAG,MAAAA,CAAMC,GAAG,EAAEC,OAAO,GAAG,CAAC,CAAC,EAAEC,QAAQ,KAAK;EAC/D,IAAI,CAACJ,eAAe,CAAC,CAAC,EAAE;IACpBK,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;IAChCF,QAAQ,CAAC,GAAG,CAAC;IACb;EACJ;EACA,MAAMG,KAAK,GAAGF,YAAY,CAACG,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMC,OAAO,GAAG;IACZ,GAAGN,OAAO,CAACM,OAAO;IAClB,eAAe,EAAE,UAAUF,KAAK;EACpC,CAAC;EACD,MAAMG,QAAQ,GAAG,MAAMC,KAAK,CAACT,GAAG,EAAE;IAAE,GAAGC,OAAO;IAAEM;EAAQ,CAAC,CAAC;EAC1D,IAAIC,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAE;IACzBP,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;IAChCF,QAAQ,CAAC,GAAG,CAAC;EACjB;EACA,OAAOM,QAAQ;AACnB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}